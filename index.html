<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8 />
		<title>Bangalore Marathon</title>
		<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
		<script src='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.js'></script>
		<link href='https://api.mapbox.com/mapbox.js/v2.2.2/mapbox.css' rel='stylesheet' />
		<style>
  			body { margin:0; padding:0; }
			#map { position:absolute; top:0; bottom:0; width:100%; }
		</style>
	</head>
	
	<body>
		<div id='map'></div>

		<script>
			L.mapbox.accessToken = 'pk.eyJ1IjoiZ3llbnVtdWxhIiwiYSI6ImNpZzIyMjZoaDE2aTV2NW01dnk0d2dvamMifQ.7j58X0hkqwgaZw09g0kMww';
			var map = L.mapbox.map('map', 'gyenumula.f9fe8b6b')
			
			map.dragging.disable();
			map.touchZoom.disable();
			map.doubleClickZoom.disable();
			map.scrollWheelZoom.disable();

			// Generate a GeoJSON line. You could also load GeoJSON via AJAX
			// or generate it some other way.
			var geojson = { type: 'LineString', coordinates: [] };
			geojson.coordinates.push(77.59341,12.97009);
			geojson.coordinates.push(77.59346,12.96994);
			geojson.coordinates.push(77.59298,12.96984);
			geojson.coordinates.push(77.59247,12.97084);
			geojson.coordinates.push(77.58925,12.96812);
			geojson.coordinates.push(77.58847,12.96784);
			geojson.coordinates.push(77.58877,12.96823); 
			geojson.coordinates.push(77.59008,12.97276);
			geojson.coordinates.push(77.58994,12.97326);
			geojson.coordinates.push(77.59041,12.97498);
			geojson.coordinates.push(77.58860,12.97511);
			geojson.coordinates.push(77.58743,12.97583);
			geojson.coordinates.push(77.58834,12.97648);
			geojson.coordinates.push(77.59072,12.97772);
			geojson.coordinates.push(77.59209,12.97665);
			geojson.coordinates.push(77.59393,12.97844);
			geojson.coordinates.push(77.59382,12.97859);
			geojson.coordinates.push(77.59539,12.97992);
			geojson.coordinates.push(77.59589,12.98020);
			geojson.coordinates.push(77.59607,12.98022);
			geojson.coordinates.push(77.59673,12.98017);
			geojson.coordinates.push(77.59698,12.98003);
			geojson.coordinates.push(77.59841,12.97687);
			geojson.coordinates.push(77.59804,12.97696);
			geojson.coordinates.push(77.59722,12.97696);
			geojson.coordinates.push(77.59665,12.97685);
			geojson.coordinates.push(77.59560,12.97695);
			geojson.coordinates.push(77.59521,12.97678);
			geojson.coordinates.push(77.59362,12.97520);
			geojson.coordinates.push(77.59269,12.97507);
			geojson.coordinates.push(77.59109,12.97619);
			geojson.coordinates.push(77.59062,12.97618);
			geojson.coordinates.push(77.59036,12.97601);
			geojson.coordinates.push(77.59019,12.97567);
			geojson.coordinates.push(77.59025,12.97522);
			geojson.coordinates.push(77.59043,12.97500);
			geojson.coordinates.push(77.59113,12.97464);
			geojson.coordinates.push(77.59176,12.97381);
			geojson.coordinates.push(77.59397,12.97217); 
			geojson.coordinates.push(77.59506,12.97350);
			geojson.coordinates.push(77.59928,12.97672);
			geojson.coordinates.push(77.59728,12.98104); 
			geojson.coordinates.push(77.61435,12.97534);
			geojson.coordinates.push(77.61469,12.97634);
			geojson.coordinates.push(77.61847,12.97508);
			geojson.coordinates.push(77.61999,12.97470);
			geojson.coordinates.push(77.62015,12.97589);
			geojson.coordinates.push(77.61768,12.98014);
			geojson.coordinates.push(77.61605,12.98074);
			geojson.coordinates.push(77.61559,12.98142);
			geojson.coordinates.push(77.61563,12.98265);
			geojson.coordinates.push(77.61716,12.98364);
			geojson.coordinates.push(77.61877,12.98537);
			geojson.coordinates.push(77.61985,12.98725);
			geojson.coordinates.push(77.62200,12.98762);

			// Add this generated geojson object to the map.
			L.geoJson(geojson).addTo(map);

			// Create a counter with a value of 0.
			var j = 0;

			// Create a marker and add it to the map.
			var marker = L.marker([0, 0], {
  				icon: L.mapbox.marker.icon({
    					'marker-color': '#FF884B'
  					})
				}).addTo(map);
	
			tick();
			
			function tick() {
    				// Set the marker to be at the same point as one
    				// of the segments or the line.
    				marker.setLatLng(L.latLng(
        			geojson.coordinates[j][1],
        			geojson.coordinates[j][0]));

    				// Move to the next point of the line
    				// until `j` reaches the length of the array.
    				if (++j < geojson.coordinates.length) setTimeout(tick, 100);
			}
		</script>
	</body>
</html>
